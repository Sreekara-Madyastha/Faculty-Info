<!DOCTYPE html>
<html>
<<<<<<< HEAD
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
  />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/home.css') }}">
</head>
<body>
    <body>
      <a href="/login">Login</a>
      <a href="logout">logout</a>
      <div class="page-content">
        <br>
        <nav class="navbar navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand">IIT INDORE</a>
              <a href="/coursesearch" class="btn btn-outline-success">COURSE-DETAILS</a>
              <a href="/login" class="btn btn-outline-success">Login</a>
          </div>
        </nav><br><br>
        <div class="container">
            <form class="row g-4" action="/search" autocomplete="off" method="post">
              <div class="col-md-3">
                <label for="dep" class="form-label">DEPARTMENT</label>
                <input list="departments" name="depselect" placeholder="{{ DId }}" class="form-control" id="dep">
            </div>
            <div class="col-md-3">
                <label for="fac" class="form-label">FACULTY</label>
                <input list="Faculty" name="facselect" placeholder="{{FId}}" class="form-control" id="fac">
            </div>
            <div class="col-md-3">
              <label for="sem" class="form-label">SEMESTER</label>
              <input list="Semester" name="fromsem" placeholder="{{ fromsem }}" class="form-control" id="sem">
            </div>
            <div class="col-md-3">
                <label for="sem" class="form-label">SEMESTER</label>
                <input list="Semester" name="tillsem" placeholder="{{ tillsem }}" class="form-control" id="sem">
              </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-primary">SUBMIT</button>
                </div>
                <datalist id="departments">
                    {% for i in departments %}
                        <option value="{{ i[0] }}">
                    {% endfor %}
                </datalist>
                <datalist id="Faculty">
                    {% for i in fac %}
                        <option value="{{ i[0] }}">{{ i[1]}}</option>
                    {% endfor %}
                </datalist>
                <datalist id="Semester">
                    {% for i in sem %}
                        <option value="{{ i[0] }}">
                    {% endfor %}
                </datalist>
              </form>
              </div><br><br>
        
        
        {% if result!=NULL %}
            <div class="container">
            <table class="table table-dark table-hover">
                <thead>
                  <tr>
                    <th scope="col">COURSE ID</th>
                    <th scope="col">COURSE NAME</th>
                    <th scope="col">FACILTY ID</th>
                    <th scope="col">FACULTY NAME</th>
                    <th scope="col">SEMESTER</th>
                    <th scope="col">NO OF STUDENTS</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    {% for i in result %}
                    <th scope="row">{{i[0]}}</th>
                        <td>{{ i[1] }}</td>
                        <td>{{ i[2] }}</td>
                        <td>{{ i[3] }}</td>
                        <td>{{ i[4] }}</td>
                        <td>{{ i[5] }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
        {% endif %}
        </div>
        <div class="container">
            <form action="/coursesearch" method="post" >
                <input name="depforcourse" list="departments">
                <input type="submit">
                <input name="selected_course" list="courselist">
                <datalist id="courselist">
                  {% for i in coursesel %}
                      <option value="{{i[0]}}">{{ i[0] }}</option>
                  {% endfor %}
                </datalist>
                <input type="submit">
            </form>
            {% if courstim!=NULL %}
            <table class="table table-dark table">
              <thead>
                <tr>
                  <th scope="col">COURSE</th>
                  <th scope="col">FACULTY</th>
                  <th scope="col">TIMETABLE</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">{{ courstim[0][0] }}</th>
                      <td>{{ courstim[0][5] }}</td>
                      <td>
                        <table class="table table-dark table">
                          <thead>
                            <tr>
                              
                                <TH>ROOM NO</TH>
                                <th>DAY</th>
                                <th>START TIME</th>
                                <th>DURATION</th>
                               
                            </tr>
                          </thead>
                                <tbody>
                                  {% for i in courstim %}
                                  <tr>
                                    <TD>{{ i[3]}}</TD>
                                    <td>{{ i[1]}}</td>
                                    <td>{{ i[2]}}</td>
                                    <td>{{ i[4]}}</td></tr>
                                    {% endfor %}
                            </tr>
                          </tbody>
                        </table>
                      </td>
                </tr>
              </tbody>
            </table>
            {% endif %}
        </div>
        </div>
        {%if session['AId'] %}
          <form action="/change" method="post">
            <input list="typem" name="operation" id="query" oninput="see()">
            <datalist id="typem">
              <option value="insertion">
              <option value="deletion">
              <option value="updation">
            </datalist>
            <div id="nextq"></div>
            <datalist id="func">
              <option value="Faculty_Info">
              <option value="course_Info">
              <option value="timings">
              <option value="teaching_Info">
            </datalist>
            <datalist id="ccc">
              <option value="timings">
            </datalist>
            <datalist id="clist">
            {% for i in c%}
                <option value="{{i[0]}}">{{i[1]}}</option>
            {% endfor %}
           </datalist>
           <datalist id="DDay">
            {% for i in tit%}
                <option value="{{i[0]}}">{{i[0]}}</option>
            {% endfor %}
           </datalist>
           <datalist id="RRoom">
            {% for i in tit %}
                <option value="{{i[1]}}">{{i[1]}}</option>
            {% endfor %}
           </datalist>
           <datalist id="SSTime">
            {% for i in tit %}
                <option value="{{i[2]}}">{{i[2]}}</option>
            {% endfor %}
           </datalist>
           <datalist id="CCId">
            {% for i in tit %}
                <option value="{{i[3]}}">{{i[3]}}</option>
            {% endfor %}
           </datalist>
            <div id="arguments">
            </div>
           </form>
           <script>
             function see(){
               y=document.getElementById('nextq')
                if(document.getElementById('query').value=='insertion'){
                  y.innerHTML='<input name="changeon" id="changeon" list="func" oninput="call()">'
                }
                else{
                  y.innerHTML='<input name="delin" id="delin" list="ccc" oninput="call()">'
                }
             }
             function find(i){
                var fill=[];
                for(let j=0;j<tit.length;j++){
                    fill.push(j[i])
                }
                return fill;
             }
             function call(){
                a=document.getElementById('query')
                d=document.getElementById('arguments')
                if(a.value=='deletion'){
                  d.innerHTML='<input list="DDay" name="dday"><input list="RRoom" name="rroom"><input list="SSTime" name="sstime"><input list="CCId" name="ccid"><input type="submit">'
                }
                else if(a.value=='insertion'){
                  if(document.getElementById('changeon').value=="Faculty_Info"){
                    d.innerHTML='<input type="text" placeholder="Faculty Name" name="newfacname"><input type="submit">'
                  }
                  else if(document.getElementById('changeon').value=="course_Info"){
                    d.innerHTML='<input name="newcourse" placeholder="course ID" type="text"><input name="cname" placeholder="Course Name" type="text"><input list="departments" placeholder="of department" name="ofdep"><input type="submit">'
                  }
                  else if(document.getElementById('changeon').value=="teaching_Info"){
                    d.innerHTML='<input name="teacher" list="Faculty"><input name="class" list="clist"><input type="text" name="semofnewcourse"><input type="text" name="noofstuds"><input type="submit">'
                  }
                  else if(document.getElementById('changeon').value=="timings"){
                    d.innerHTML='<input name="day" type="text"><input name="starttime" type="text"><input type="text" name="room"><input list="clist" name="courseoftime"><input type="text" name="dur"><input type="submit">'
                  }
                }
                else if(a.value=='updation'){
                  d.innerHTML='<input list="DDay" name="dday"><input list="RRoom" name="rroom"><input list="SSTime" name="sstime"><input type="text" name="newcourse"><input type="submit">'
                }
              }
           </script>
           <p>{{ error }}</p>
        {%endif%}
        <script>
          document.getElementById('dep').onchange = function(){
              department = document.getElementById('dep').value;
              
              fetch('/dept/' + department).then(function(response){

                  response.json().then(function(data){
                      console.table(data)
                      let Html =' ';
                      for( let dept of data.depts){
                          Html+='<option value="' + dept.id + '">' + dept.name + '</option>';
                      }

                      document.getElementById('Faculty').innerHTML = Html;
                  });
              });
          }
      </script>
    </body>
=======
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/home.css') }}">
  </head>
  <body>
    <div class="page-content">
    <br>
    <nav class="navbar navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand">IIT INDORE</a>
          <a href="/coursesearch" class="btn btn-outline-success">COURSE-DETAILS</a>
          <a href="/login" class="btn btn-outline-success">Login</a>
      </div>
    </nav><br><br>
    <div class="container">
      <form class="row g-4" action="/search" autocomplete="off" method="post">
          <div class="col-md-3">
              <label for="dep" class="form-label">DEPARTMENT</label>
              <input list="departments" name="depselect" placeholder="{{ DId }}" class="form-control" id="dep">
          </div>
          <div class="col-md-3">
              <label for="fac" class="form-label">FACULTY</label>
              <input list="Faculty" name="facselect" placeholder="{{FId}}" class="form-control" id="fac">
          </div>
          <div class="col-md-3">
            <label for="sem" class="form-label">SEMESTER</label>
            <input list="Semester" name="fromsem" placeholder="{{ fromsem }}" class="form-control" id="sem">
          </div>
          <div class="col-md-3">
              <label for="sem" class="form-label">SEMESTER</label>
              <input list="Semester" name="tillsem" placeholder="{{ tillsem }}" class="form-control" id="sem">
            </div>
          <div class="col-12">
            <button type="submit" class="btn btn-primary">SUBMIT</button>
          </div>
          <datalist id="departments">
              {% for i in departments %}
                  <option value="{{ i[0] }}">
              {% endfor %}
          </datalist>
          <datalist id="Faculty">
              {% for i in fac %}
                  <option value="{{ i[0] }}">{{ i[1]}}</option>
              {% endfor %}
          </datalist>
          <datalist id="Semester">
              {% for i in sem %}
                  <option value="{{ i[0] }}">
              {% endfor %}
          </datalist>
        </form>
        </div><br><br>
  
  
  {% if result!=NULL %}
      <div class="container">
      <table class="table table-dark table-hover">
          <thead>
            <tr>
              <th scope="col">COURSE ID</th>
              <th scope="col">COURSE NAME</th>
              <th scope="col">FACILTY ID</th>
              <th scope="col">FACULTY NAME</th>
              <th scope="col">SEMESTER</th>
              <th scope="col">NO OF STUDENTS</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              {% for i in result %}
              <th scope="row">{{i[0]}}</th>
                  <td>{{ i[1] }}</td>
                  <td>{{ i[2] }}</td>
                  <td>{{ i[3] }}</td>
                  <td>{{ i[4] }}</td>
                  <td>{{ i[5] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
  {% endif %}
  </div>
  <div class="container">
      <form action="/coursesearch" method="post" >
          <input name="depforcourse" list="departments">
          <input type="submit">
          <input name="selected_course" list="courselist">
          <datalist id="courselist">
            {% for i in coursesel %}
                <option value="{{i[0]}}">{{ i[] }}</option>
            {% endfor %}
          </datalist>
          <input type="submit">
      </form>
      {% if courstim!=NULL %}

      <table class="table table-dark table">
        <thead>
          <tr>
            <th scope="col">COURSE</th>
            <th scope="col">FACULTY</th>
            <th scope="col">TIMETABLE</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">{{ courstim[0][0] }}</th>
                <td>{{ courstim[0][5] }}</td>
                <td>
                  <table class="table table-dark table">
                    <thead>
                      <tr>
                        
                          <TH>ROOM NO</TH>
                          <th>DAY</th>
                          <th>START TIME</th>
                          <th>DURATION</th>
                         
                      </tr>
                    </thead>
                          <tbody>
                            {% for i in courstim %}
                            <tr>
                              <TD>{{ i[3]}}</TD>
                              <td>{{ i[1]}}</td>
                              <td>{{ i[2]}}</td>
                              <td>{{ i[4]}}</td></tr>
                              {% endfor %}
                      </tr>
                    </tbody>
                  </table>
                </td>
          </tr>
        </tbody>
      </table>
      {% endif %}
  </div>
    </div>
  </body>
>>>>>>> 93bb8e0e9a338f07d0689882d87a0cd9ee6c7b54
</html>
